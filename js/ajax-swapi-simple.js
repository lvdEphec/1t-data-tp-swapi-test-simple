"use strict";var filmsLiensPersonnages;function initialiser(){document.getElementById("choixFilm").addEventListener("change",chargerPersonnages),chargerTitres()}function chargerTitres(){let e=new XMLHttpRequest;e.open("get","https://devweb.ephec.be/swapi/films/",!0),e.onload=remplirListeFilm,e.send()}function remplirListeFilm(){let e=JSON.parse(this.responseText),n="";filmsLiensPersonnages={};for(let t of e)n+='<option value="'+t.episode_id+'">'+t.title+"</option>\n",filmsLiensPersonnages[t.episode_id]=t.characters;document.getElementById("choixFilm").innerHTML=n}function chargerPersonnages(){document.getElementById("listePersonnages").innerHTML="";for(let e of filmsLiensPersonnages[this.value]){let n=new XMLHttpRequest;n.open("get",e,!0),n.onload=ajouterPersonnage,n.send()}}function ajouterPersonnage(){let e="<li>"+JSON.parse(this.responseText).name+"</li>";document.getElementById("listePersonnages").innerHTML+=e}document.addEventListener("DOMContentLoaded",initialiser);